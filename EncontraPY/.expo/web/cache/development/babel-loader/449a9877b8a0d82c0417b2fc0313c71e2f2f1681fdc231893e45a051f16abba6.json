{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport axios from 'axios';\nvar API_URI = 'https://api-genove.agcodecraft.com';\nvar api = axios.create({\n  baseURL: API_URI\n});\nvar DEFAULT_MOEDA_ID = 2;\nvar getCurrencySymbol = function getCurrencySymbol(moedaId) {\n  switch (moedaId) {\n    case 3:\n      return 'G$';\n    case 2:\n      return 'U$';\n    default:\n      return '';\n  }\n};\nexport var formatPrice = function formatPrice(price) {\n  var moedaId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_MOEDA_ID;\n  var symbol = getCurrencySymbol(moedaId);\n  if (moedaId === 3) {\n    return `${symbol} ${price.toLocaleString('es-PY', {\n      useGrouping: true,\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    })}`;\n  }\n  return `${symbol} ${price.toLocaleString('pt-BR', {\n    useGrouping: true,\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })}`;\n};\nexport var fetchGenoveProducts = function () {\n  var _ref = _asyncToGenerator(function* () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    try {\n      var moedaId = params.moeda_id || DEFAULT_MOEDA_ID;\n      var response = yield api.get('api/public/products', {\n        params: _objectSpread(_objectSpread({}, params), {}, {\n          moeda_id: moedaId\n        })\n      });\n      var productData = response.data;\n      if (productData.data && Array.isArray(productData.data)) {\n        return productData.data.map(function (product) {\n          var _product$preco_atual, _product$imagem_princ, _product$marca;\n          var price = ((_product$preco_atual = product.preco_atual) == null ? void 0 : _product$preco_atual.valor_venda) || 0;\n          var formattedPrice = formatPrice(parseFloat(price), moedaId);\n          return {\n            id: product.id.toString(),\n            title: product.nome || '',\n            price: formattedPrice,\n            image: ((_product$imagem_princ = product.imagem_principal) == null ? void 0 : _product$imagem_princ.url) || '',\n            availability: product.disponibilidade || 'disponível',\n            brand: ((_product$marca = product.marca) == null ? void 0 : _product$marca.nome) || '',\n            link: product.url || '',\n            store: 'Genove'\n          };\n        });\n      }\n      return [];\n    } catch (error) {\n      console.error('Erro ao buscar produtos:', error);\n      return [];\n    }\n  });\n  return function fetchGenoveProducts() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var fetchBrands = function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    try {\n      var response = yield api.get('api/public/brands');\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao buscar marcas:', error);\n      return [];\n    }\n  });\n  return function fetchBrands() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var fetchCategories = function () {\n  var _ref3 = _asyncToGenerator(function* () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    try {\n      var finalParams = _objectSpread(_objectSpread({}, params), {}, {\n        special: 'only'\n      });\n      var response = yield api.get('api/public/categories', {\n        params: finalParams\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao buscar categorias:', error);\n      return [];\n    }\n  });\n  return function fetchCategories() {\n    return _ref3.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","API_URI","api","create","baseURL","DEFAULT_MOEDA_ID","getCurrencySymbol","moedaId","formatPrice","price","arguments","length","undefined","symbol","toLocaleString","useGrouping","minimumFractionDigits","maximumFractionDigits","fetchGenoveProducts","_ref","_asyncToGenerator","params","moeda_id","response","get","_objectSpread","productData","data","Array","isArray","map","product","_product$preco_atual","_product$imagem_princ","_product$marca","preco_atual","valor_venda","formattedPrice","parseFloat","id","toString","title","nome","image","imagem_principal","url","availability","disponibilidade","brand","marca","link","store","error","console","apply","fetchBrands","_ref2","fetchCategories","_ref3","finalParams","special"],"sources":["C:/Users/neehi/Documents/GitHub/ecom-tech/EncontraPY/genoveApiReal.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URI = 'https://api-genove.agcodecraft.com';\n\nconst api = axios.create({\n  baseURL: API_URI,\n});\n\n// Moeda padrão (dólar)\nconst DEFAULT_MOEDA_ID = 2;\n\nconst getCurrencySymbol = (moedaId) => {\n  switch (moedaId) {\n    case 3:\n      return 'G$';\n    case 2:\n      return 'U$';\n    default:\n      return '';\n  }\n};\n\nexport const formatPrice = (price, moedaId = DEFAULT_MOEDA_ID) => {\n  const symbol = getCurrencySymbol(moedaId);\n\n  if (moedaId === 3) {\n    return `${symbol} ${price.toLocaleString('es-PY', {\n      useGrouping: true,\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    })}`;\n  }\n\n  return `${symbol} ${price.toLocaleString('pt-BR', {\n    useGrouping: true,\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })}`;\n};\n\nexport const fetchGenoveProducts = async (params = {}) => {\n  try {\n    const moedaId = params.moeda_id || DEFAULT_MOEDA_ID;\n    \n    const response = await api.get('api/public/products', { \n      params: { ...params, moeda_id: moedaId } \n    });\n    \n    const productData = response.data;\n    \n    // Formatar preços e mapear para o formato esperado pelo app\n    if (productData.data && Array.isArray(productData.data)) {\n      return productData.data.map(product => {\n        const price = product.preco_atual?.valor_venda || 0;\n        const formattedPrice = formatPrice(parseFloat(price), moedaId);\n        \n        return {\n          id: product.id.toString(),\n          title: product.nome || '',\n          price: formattedPrice,\n          image: product.imagem_principal?.url || '',\n          availability: product.disponibilidade || 'disponível',\n          brand: product.marca?.nome || '',\n          link: product.url || '',\n          store: 'Genove'\n        };\n      });\n    }\n    \n    return [];\n  } catch (error) {\n    console.error('Erro ao buscar produtos:', error);\n    // Em caso de erro, retorna um array vazio\n    return [];\n  }\n};\n\nexport const fetchBrands = async () => {\n  try {\n    const response = await api.get('api/public/brands');\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao buscar marcas:', error);\n    return [];\n  }\n};\n\nexport const fetchCategories = async (params = {}) => {\n  try {\n    const finalParams = { ...params, special: 'only' };\n    const response = await api.get('api/public/categories', { params: finalParams });\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao buscar categorias:', error);\n    return [];\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}