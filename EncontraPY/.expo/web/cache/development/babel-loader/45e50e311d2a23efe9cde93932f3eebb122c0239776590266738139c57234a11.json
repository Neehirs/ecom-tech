{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport axios from 'axios';\nvar API_URI = 'https://api-genove.agcodecraft.com';\nvar api = axios.create({\n  baseURL: API_URI\n});\nvar DEFAULT_MOEDA_ID = 2;\nvar getCurrencySymbol = function getCurrencySymbol(moedaId) {\n  switch (moedaId) {\n    case 3:\n      return 'G$';\n    case 2:\n      return 'U$';\n    default:\n      return '';\n  }\n};\nexport var formatPrice = function formatPrice(price) {\n  var moedaId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_MOEDA_ID;\n  var symbol = getCurrencySymbol(moedaId);\n  if (moedaId === 3) {\n    return `${symbol} ${price.toLocaleString('es-PY', {\n      useGrouping: true,\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    })}`;\n  }\n  return `${symbol} ${price.toLocaleString('pt-BR', {\n    useGrouping: true,\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })}`;\n};\nexport var fetchGenoveProducts = function () {\n  var _ref = _asyncToGenerator(function* () {\n    var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var sort = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'default';\n    try {\n      var params = {\n        moeda_id: DEFAULT_MOEDA_ID\n      };\n      if (query && query.trim() !== '') {\n        params.text = query.trim();\n      }\n      if (sort && sort !== 'default') {\n        params.sort = sort;\n      }\n      var response = yield api.get('api/public/products', {\n        params: _objectSpread(_objectSpread({}, params), {}, {\n          page: page\n        })\n      });\n      var productData = response.data;\n      if (productData.data && Array.isArray(productData.data)) {\n        var products = productData.data.map(function (product) {\n          var price = product.valor_venda || 0;\n          var formattedPrice = formatPrice(parseFloat(price), moedaId);\n          return {\n            id: product.id.toString(),\n            title: product.nome || '',\n            price: formattedPrice,\n            image: product.imagens && product.imagens.length > 0 ? product.imagens[0].url : 'https://via.placeholder.com/150',\n            availability: product.tem_estoque ? 'disponível' : 'fora de estoque',\n            brand: product.marca || '',\n            link: product.slug ? `https://www.genove.com.py/produto/${product.slug}` : '#',\n            store: 'Genove'\n          };\n        });\n        return {\n          products: products,\n          pagination: {\n            currentPage: productData.current_page,\n            lastPage: productData.last_page,\n            total: productData.total,\n            hasNextPage: productData.current_page < productData.last_page,\n            hasPrevPage: productData.current_page > 1\n          }\n        };\n      }\n      return {\n        products: [],\n        pagination: {\n          currentPage: 1,\n          lastPage: 1,\n          total: 0,\n          hasNextPage: false,\n          hasPrevPage: false\n        }\n      };\n    } catch (error) {\n      console.error('Erro ao buscar produtos:', error);\n      return {\n        products: [],\n        pagination: {\n          currentPage: 1,\n          lastPage: 1,\n          total: 0,\n          hasNextPage: false,\n          hasPrevPage: false\n        }\n      };\n    }\n  });\n  return function fetchGenoveProducts() {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","API_URI","api","create","baseURL","DEFAULT_MOEDA_ID","getCurrencySymbol","moedaId","formatPrice","price","arguments","length","undefined","symbol","toLocaleString","useGrouping","minimumFractionDigits","maximumFractionDigits","fetchGenoveProducts","_ref","_asyncToGenerator","page","query","sort","params","moeda_id","trim","text","response","get","_objectSpread","productData","data","Array","isArray","products","map","product","valor_venda","formattedPrice","parseFloat","id","toString","title","nome","image","imagens","url","availability","tem_estoque","brand","marca","link","slug","store","pagination","currentPage","current_page","lastPage","last_page","total","hasNextPage","hasPrevPage","error","console","apply"],"sources":["C:/Users/neehi/Documents/GitHub/ecom-tech/EncontraPY/genoveApiReal.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URI = 'https://api-genove.agcodecraft.com';\n\nconst api = axios.create({\n  baseURL: API_URI,\n});\n\n// Moeda padrão (dólar)\nconst DEFAULT_MOEDA_ID = 2;\n\nconst getCurrencySymbol = (moedaId) => {\n  switch (moedaId) {\n    case 3:\n      return 'G$';\n    case 2:\n      return 'U$';\n    default:\n      return '';\n  }\n};\n\nexport const formatPrice = (price, moedaId = DEFAULT_MOEDA_ID) => {\n  const symbol = getCurrencySymbol(moedaId);\n\n  if (moedaId === 3) {\n    return `${symbol} ${price.toLocaleString('es-PY', {\n      useGrouping: true,\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    })}`;\n  }\n\n  return `${symbol} ${price.toLocaleString('pt-BR', {\n    useGrouping: true,\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  })}`;\n};\n\nexport const fetchGenoveProducts = async (page = 1, query = '', sort = 'default') => {\n  try {\n    const params = { moeda_id: DEFAULT_MOEDA_ID };\n    \n    // Adicionar parâmetro de busca se houver texto\n    if (query && query.trim() !== '') {\n      params.text = query.trim();\n    }\n    \n    // Adicionar parâmetro de ordenação\n    if (sort && sort !== 'default') {\n      params.sort = sort;\n    }\n    \n    const response = await api.get('api/public/products', { \n      params: { ...params, page } \n    });\n    \n    const productData = response.data;\n    \n    // Formatar preços e mapear para o formato esperado pelo app\n    if (productData.data && Array.isArray(productData.data)) {\n      const products = productData.data.map(product => {\n        const price = product.valor_venda || 0;\n        const formattedPrice = formatPrice(parseFloat(price), moedaId);\n        \n        return {\n          id: product.id.toString(),\n          title: product.nome || '',\n          price: formattedPrice,\n          image: product.imagens && product.imagens.length > 0 ? product.imagens[0].url : 'https://via.placeholder.com/150',\n          availability: product.tem_estoque ? 'disponível' : 'fora de estoque',\n          brand: product.marca || '',\n          link: product.slug ? `https://www.genove.com.py/produto/${product.slug}` : '#',\n          store: 'Genove'\n        };\n      });\n      \n      return {\n        products,\n        pagination: {\n          currentPage: productData.current_page,\n          lastPage: productData.last_page,\n          total: productData.total,\n          hasNextPage: productData.current_page < productData.last_page,\n          hasPrevPage: productData.current_page > 1\n        }\n      };\n    }\n    \n    return { products: [], pagination: { currentPage: 1, lastPage: 1, total: 0, hasNextPage: false, hasPrevPage: false } };\n  } catch (error) {\n    console.error('Erro ao buscar produtos:', error);\n    // Em caso de erro, retorna um objeto vazio\n    return { products: [], pagination: { currentPage: 1, lastPage: 1, total: 0, hasNextPage: false, hasPrevPage: false } };\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}