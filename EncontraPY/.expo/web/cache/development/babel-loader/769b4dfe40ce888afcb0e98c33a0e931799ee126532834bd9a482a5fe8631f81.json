{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from 'axios';\nimport { parseString } from 'react-native-xml2js';\nvar API_URL = 'https://api-genove.agcodecraft.com/cp';\nexport var fetchGenoveProducts = function () {\n  var _ref = _asyncToGenerator(function* () {\n    try {\n      var response = yield axios.get(API_URL, {\n        responseType: 'text',\n        headers: {\n          Accept: 'application/xml',\n          'Content-Type': 'application/xml'\n        },\n        timeout: 10000\n      });\n      return new Promise(function (resolve, reject) {\n        parseString(response.data, function (err, result) {\n          var _result$rss, _result$rss$channel, _result$rss$channel$;\n          if (err) {\n            reject(err);\n            return;\n          }\n          var items = (result == null ? void 0 : (_result$rss = result.rss) == null ? void 0 : (_result$rss$channel = _result$rss.channel) == null ? void 0 : (_result$rss$channel$ = _result$rss$channel[0]) == null ? void 0 : _result$rss$channel$.item) || [];\n          var products = items.map(function (item) {\n            var _item$codigo, _item$title, _item$preco, _item$preco_normal_se, _item$link_imagem, _item$disponibilidade, _item$marca, _item$tipo_venda, _item$link;\n            return {\n              id: ((_item$codigo = item.codigo) == null ? void 0 : _item$codigo[0]) || '',\n              title: ((_item$title = item.title) == null ? void 0 : _item$title[0]) || '',\n              price: ((_item$preco = item.preco) == null ? void 0 : _item$preco[0]) || '',\n              price_normal: ((_item$preco_normal_se = item.preco_normal_sem_liquidacao) == null ? void 0 : _item$preco_normal_se[0]) || '',\n              image: ((_item$link_imagem = item.link_imagem) == null ? void 0 : _item$link_imagem[0]) || '',\n              availability: ((_item$disponibilidade = item.disponibilidade) == null ? void 0 : _item$disponibilidade[0]) || '',\n              brand: ((_item$marca = item.marca) == null ? void 0 : _item$marca[0]) || '',\n              saleType: ((_item$tipo_venda = item.tipo_venda) == null ? void 0 : _item$tipo_venda[0]) || '',\n              link: ((_item$link = item.link) == null ? void 0 : _item$link[0]) || '',\n              store: 'Genove'\n            };\n          });\n          resolve(products);\n        });\n      });\n    } catch (error) {\n      console.error('Erro ao buscar produtos da Genove:', error.message);\n      return [];\n    }\n  });\n  return function fetchGenoveProducts() {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","parseString","API_URL","fetchGenoveProducts","_ref","_asyncToGenerator","response","get","responseType","headers","Accept","timeout","Promise","resolve","reject","data","err","result","_result$rss","_result$rss$channel","_result$rss$channel$","items","rss","channel","item","products","map","_item$codigo","_item$title","_item$preco","_item$preco_normal_se","_item$link_imagem","_item$disponibilidade","_item$marca","_item$tipo_venda","_item$link","id","codigo","title","price","preco","price_normal","preco_normal_sem_liquidacao","image","link_imagem","availability","disponibilidade","brand","marca","saleType","tipo_venda","link","store","error","console","message","apply","arguments"],"sources":["C:/Users/neehi/Documents/GitHub/ecom-tech/EncontraPY/genoveApi.js"],"sourcesContent":["import axios from 'axios';\nimport { parseString } from 'react-native-xml2js';\n\nconst API_URL = 'https://api-genove.agcodecraft.com/cp';\n\nexport const fetchGenoveProducts = async () => {\n  try {\n    const response = await axios.get(API_URL, {\n      responseType: 'text',\n      headers: {\n        Accept: 'application/xml',\n        'Content-Type': 'application/xml',\n      },\n      timeout: 10000,\n    });\n\n    return new Promise((resolve, reject) => {\n      parseString(response.data, (err, result) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n\n        const items = result?.rss?.channel?.[0]?.item || [];\n\n        const products = items.map((item) => ({\n          id: item.codigo?.[0] || '',\n          title: item.title?.[0] || '',\n          price: item.preco?.[0] || '',\n          price_normal: item.preco_normal_sem_liquidacao?.[0] || '',\n          image: item.link_imagem?.[0] || '',\n          availability: item.disponibilidade?.[0] || '',\n          brand: item.marca?.[0] || '',\n          saleType: item.tipo_venda?.[0] || '',\n          link: item.link?.[0] || '',\n          store: 'Genove',\n        }));\n\n        resolve(products);\n      });\n    });\n  } catch (error) {\n    console.error('Erro ao buscar produtos da Genove:', error.message);\n    return [];\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}