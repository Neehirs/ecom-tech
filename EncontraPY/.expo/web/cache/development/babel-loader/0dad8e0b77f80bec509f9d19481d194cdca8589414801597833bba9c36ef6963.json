{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from 'axios';\nimport { parseString } from 'react-native-xml2js';\nvar API_URL = 'https://api-genove.agcodecraft.com/cp';\nexport var fetchGenoveProducts = function () {\n  var _ref = _asyncToGenerator(function* () {\n    try {\n      var response = yield axios.get(API_URL, {\n        responseType: 'text',\n        headers: {\n          'Accept': 'application/xml',\n          'Content-Type': 'application/xml'\n        },\n        timeout: 10000\n      });\n      return new Promise(function (resolve, reject) {\n        parseString(response.data, function (err, result) {\n          if (err) {\n            reject(err);\n            return;\n          }\n          if (!result || !result.rss || !result.rss.channel || !result.rss.channel[0]) {\n            resolve([]);\n            return;\n          }\n          var items = result.rss.channel[0].item || [];\n          var products = items.map(function (item) {\n            return {\n              id: item.codigo ? item.codigo[0] : '',\n              title: item.title ? item.title[0] : '',\n              price: item.preco ? item.preco[0] : '',\n              image: item.link_imagem ? item.link_imagem[0] : '',\n              availability: item.disponibilidade ? item.disponibilidade[0] : '',\n              brand: item.marca ? item.marca[0] : '',\n              link: item.link ? item.link[0] : '',\n              store: 'Genove'\n            };\n          });\n          resolve(products);\n        });\n      });\n    } catch (error) {\n      console.error('Error fetching Genove products:', error);\n      throw error;\n    }\n  });\n  return function fetchGenoveProducts() {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","parseString","API_URL","fetchGenoveProducts","_ref","_asyncToGenerator","response","get","responseType","headers","timeout","Promise","resolve","reject","data","err","result","rss","channel","items","item","products","map","id","codigo","title","price","preco","image","link_imagem","availability","disponibilidade","brand","marca","link","store","error","console","apply","arguments"],"sources":["C:/Users/neehi/Documents/GitHub/ecom-tech/EncontraPY/genoveApi.js"],"sourcesContent":["import axios from 'axios';\nimport { parseString } from 'react-native-xml2js';\n\n// Atualizando a URL da API com protocolo HTTPS e cabeçalhos CORS\nconst API_URL = 'https://api-genove.agcodecraft.com/cp';\n\nexport const fetchGenoveProducts = async () => {\n  try {\n    const response = await axios.get(API_URL, {\n      responseType: 'text',\n      headers: {\n        'Accept': 'application/xml',\n        'Content-Type': 'application/xml',\n      },\n      timeout: 10000, // 10 segundos de timeout\n    });\n    \n    return new Promise((resolve, reject) => {\n      parseString(response.data, (err, result) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        \n        if (!result || !result.rss || !result.rss.channel || !result.rss.channel[0]) {\n          // Se a resposta não tiver a estrutura esperada, retorna uma lista vazia\n          resolve([]);\n          return;\n        }\n        \n        const items = result.rss.channel[0].item || [];\n        const products = items.map(item => ({\n          id: item.codigo ? item.codigo[0] : '',\n          title: item.title ? item.title[0] : '',\n          price: item.preco ? item.preco[0] : '',\n          image: item.link_imagem ? item.link_imagem[0] : '',\n          availability: item.disponibilidade ? item.disponibilidade[0] : '',\n          brand: item.marca ? item.marca[0] : '',\n          link: item.link ? item.link[0] : '',\n          store: 'Genove'\n        }));\n        \n        resolve(products);\n      });\n    });\n  } catch (error) {\n    console.error('Error fetching Genove products:', error);\n    throw error;\n  }\n};"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,qBAAqB;AAGjD,IAAMC,OAAO,GAAG,uCAAuC;AAEvD,OAAO,IAAMC,mBAAmB;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;IAC7C,IAAI;MACF,IAAMC,QAAQ,SAASN,KAAK,CAACO,GAAG,CAACL,OAAO,EAAE;QACxCM,YAAY,EAAE,MAAM;QACpBC,OAAO,EAAE;UACP,QAAQ,EAAE,iBAAiB;UAC3B,cAAc,EAAE;QAClB,CAAC;QACDC,OAAO,EAAE;MACX,CAAC,CAAC;MAEF,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;QACtCZ,WAAW,CAACK,QAAQ,CAACQ,IAAI,EAAE,UAACC,GAAG,EAAEC,MAAM,EAAK;UAC1C,IAAID,GAAG,EAAE;YACPF,MAAM,CAACE,GAAG,CAAC;YACX;UACF;UAEA,IAAI,CAACC,MAAM,IAAI,CAACA,MAAM,CAACC,GAAG,IAAI,CAACD,MAAM,CAACC,GAAG,CAACC,OAAO,IAAI,CAACF,MAAM,CAACC,GAAG,CAACC,OAAO,CAAC,CAAC,CAAC,EAAE;YAE3EN,OAAO,CAAC,EAAE,CAAC;YACX;UACF;UAEA,IAAMO,KAAK,GAAGH,MAAM,CAACC,GAAG,CAACC,OAAO,CAAC,CAAC,CAAC,CAACE,IAAI,IAAI,EAAE;UAC9C,IAAMC,QAAQ,GAAGF,KAAK,CAACG,GAAG,CAAC,UAAAF,IAAI;YAAA,OAAK;cAClCG,EAAE,EAAEH,IAAI,CAACI,MAAM,GAAGJ,IAAI,CAACI,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE;cACrCC,KAAK,EAAEL,IAAI,CAACK,KAAK,GAAGL,IAAI,CAACK,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE;cACtCC,KAAK,EAAEN,IAAI,CAACO,KAAK,GAAGP,IAAI,CAACO,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE;cACtCC,KAAK,EAAER,IAAI,CAACS,WAAW,GAAGT,IAAI,CAACS,WAAW,CAAC,CAAC,CAAC,GAAG,EAAE;cAClDC,YAAY,EAAEV,IAAI,CAACW,eAAe,GAAGX,IAAI,CAACW,eAAe,CAAC,CAAC,CAAC,GAAG,EAAE;cACjEC,KAAK,EAAEZ,IAAI,CAACa,KAAK,GAAGb,IAAI,CAACa,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE;cACtCC,IAAI,EAAEd,IAAI,CAACc,IAAI,GAAGd,IAAI,CAACc,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE;cACnCC,KAAK,EAAE;YACT,CAAC;UAAA,CAAC,CAAC;UAEHvB,OAAO,CAACS,QAAQ,CAAC;QACnB,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOe,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACvD,MAAMA,KAAK;IACb;EACF,CAAC;EAAA,gBA3CYjC,mBAAmBA,CAAA;IAAA,OAAAC,IAAA,CAAAkC,KAAA,OAAAC,SAAA;EAAA;AAAA,GA2C/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}